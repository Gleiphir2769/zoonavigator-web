<!--
  ~ Copyright (C) 2017  Ľuboš Kozmon
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<!--suppress HtmlUnknownAttribute, HtmlFormInputWithoutLabel, HtmlUnknownTag -->
<div layout="column" layout-fill>

  <mat-card layout="column" flex>
    <ace-editor ace-editor
                flex
                #dataEditor
                theme="chrome"
                [(text)]="metaWithData.data"
                [mode]="editorMode"
                [options]="editorOpts"
                [readOnly]="false"
                [autoUpdateContent]="true"
                style="height: 100%; overflow: auto;">
    </ace-editor>
  </mat-card>

  <div class="zoo-actionbar">
    <button mat-button
            type="button"
            (click)="onRefresh()">
      Refresh
    </button>

    <button mat-raised-button
            type="button"
            color="accent"
            (click)="onSubmit()"
            [disabled]="!editorDirty">
      Save
    </button>

    <label for="editorMode" class="tc-grey-600">Mode:</label>
    <mat-select [(ngModel)]="editorMode" name="editorMode" id="editorMode">
      <mat-option *ngFor="let mode of editorModes" [value]="mode">
        {{mode}}
      </mat-option>
    </mat-select>
  </div>
</div>
